<?php

return [

    /*
    |--------------------------------------------------------------------------
    | 認證驅動模式
    |--------------------------------------------------------------------------
    |
    | 認證驅動模式：
    | - accounts-center: 使用 Accounts 中心認證（預設）
    | - local: 使用本地認證（備援模式）
    |
    */
    'auth_driver' => env('AUTH_DRIVER', 'accounts-center'),

    /*
    |--------------------------------------------------------------------------
    | 自動降級機制
    |--------------------------------------------------------------------------
    |
    | 當 OAuth 認證失敗時，是否自動降級到本地認證
    |
    */
    'auto_fallback' => env('ACCOUNTS_AUTO_FALLBACK', true),

    /*
    |--------------------------------------------------------------------------
    | Accounts 中心網址
    |--------------------------------------------------------------------------
    |
    | 帳號管理中心的 API 網址
    |
    */
    'url' => env('ACCOUNTS_URL', 'https://accounts.huabing.tw'),

    /*
    |--------------------------------------------------------------------------
    | 客戶端代碼
    |--------------------------------------------------------------------------
    |
    | 系統在 Accounts 中心註冊的客戶端代碼
    |
    */
    'client_code' => env('ACCOUNTS_CLIENT_CODE', ''),

    /*
    |--------------------------------------------------------------------------
    | 系統代碼
    |--------------------------------------------------------------------------
    |
    | 系統識別碼，例如：pos, ods, erp 等
    |
    */
    'system_code' => env('ACCOUNTS_SYSTEM_CODE', 'pos'),

    /*
    |--------------------------------------------------------------------------
    | API 請求逾時時間
    |--------------------------------------------------------------------------
    |
    | API 請求的逾時時間（秒）
    |
    */
    'timeout' => env('ACCOUNTS_TIMEOUT', 10),

    /*
    |--------------------------------------------------------------------------
    | Debug Key
    |--------------------------------------------------------------------------
    |
    | 用於取得更詳細的錯誤資訊（開發階段使用）
    |
    */
    'api_debug_key' => env('ACCOUNTS_DEBUG_KEY', ''),

    /*
    |--------------------------------------------------------------------------
    | 使用者 Model
    |--------------------------------------------------------------------------
    |
    | 指定系統使用的 User Model 類別
    |
    */
    'user_model' => env('ACCOUNTS_USER_MODEL', \App\Models\User\User::class),

    /*
    |--------------------------------------------------------------------------
    | 使用者同步服務
    |--------------------------------------------------------------------------
    |
    | 指定處理使用者同步的服務類別
    | 必須實作 Huabing\AccountsOAuth\Contracts\UserSyncInterface
    |
    */
    'user_sync' => \Huabing\AccountsOAuth\Services\DefaultUserSync::class,

    /*
    |--------------------------------------------------------------------------
    | SSL 憑證驗證
    |--------------------------------------------------------------------------
    |
    | 是否驗證 SSL 憑證（生產環境建議設為 true）
    |
    */
    'verify_ssl' => env('ACCOUNTS_VERIFY_SSL', false),

    /*
    |--------------------------------------------------------------------------
    | 重試設定
    |--------------------------------------------------------------------------
    |
    | API 請求失敗時的重試次數和間隔時間（毫秒）
    |
    */
    'retry' => [
        'times' => env('ACCOUNTS_RETRY_TIMES', 2),
        'sleep' => env('ACCOUNTS_RETRY_SLEEP', 100),
    ],

    /*
    |--------------------------------------------------------------------------
    | 預設返回 URL
    |--------------------------------------------------------------------------
    |
    | 密碼重設後的預設返回網址
    |
    */
    'default_return_url' => env('ACCOUNTS_DEFAULT_RETURN_URL', null),

];
